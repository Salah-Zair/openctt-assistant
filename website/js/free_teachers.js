var techers_av =
    { "teachers": [{ "id": 22, "name": "H", "last_name": "Bouglimina", "title": "Mme", "edu_rank": "MAB", "extid": "info" }, { "id": 23, "name": "Smail", "last_name": "Boussadi", "title": "Mr", "edu_rank": "MAB", "extid": "info" }, { "id": 25, "name": "F", "last_name": "Chihati", "title": "Melle", "edu_rank": "MAA", "extid": "info" }, { "id": 33, "name": "Chahrazad", "last_name": "Hambli", "title": "M", "edu_rank": "Vac", "extid": "info" }, { "id": 43, "name": "Oussama", "last_name": "Messaoudi", "title": "M", "edu_rank": "MAB", "extid": "info" }, { "id": 53, "name": "Kais", "last_name": "Yahaoui", "title": "M", "edu_rank": "MAB", "extid": "info" }, { "id": 57, "name": "M", "last_name": "Zoubiri", "title": "Mr", "edu_rank": "Vac", "extid": "info" }], "groups": [{ "id": 1, "name": "1MI 01", "code": "G01", "semester": "S2" }, { "id": 2, "name": "1MI 02", "code": "G02", "semester": "S2" }, { "id": 3, "name": "1MI 03", "code": "G03", "semester": "S2" }, { "id": 4, "name": "1MI 04", "code": "G04", "semester": "S2" }, { "id": 5, "name": "1MI 05", "code": "G05", "semester": "S2" }, { "id": 6, "name": "1MI 06", "code": "G06", "semester": "S2" }, { "id": 7, "name": "1MI 07 G07", "code": "", "semester": "S2" }, { "id": 8, "name": "1MI 08 G08", "code": "", "semester": "S2" }, { "id": 9, "name": "2Info G1", "code": "", "semester": "4" }, { "id": 10, "name": "2Info G2", "code": "", "semester": "4" }, { "id": 11, "name": "2Info G3", "code": "", "semester": "4" }, { "id": 14, "name": "3Info", "code": "ISIL1", "semester": "6" }, { "id": 15, "name": "3Info SI", "code": "", "semester": "6" }, { "id": 17, "name": "M1 GSI", "code": "", "semester": "2" }, { "id": 18, "name": "M1 ISIL G1", "code": "", "semester": "2" }, { "id": 19, "name": "M1 ISIL G2", "code": "", "semester": "2" }, { "id": 20, "name": "GSI", "code": "M2-GSI", "semester": "3" }, { "id": 22, "name": "3 ISIL-a", "code": "", "semester": "6" }, { "id": 23, "name": "M1 GSI-a", "code": "", "semester": "2" }], "lessons": [{ "course_id": 17, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 20, "day_index": 1, "term_index": 3, "classroom_id": 16 }, { "course_id": 34, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 44, "day_index": 1, "term_index": 3, "classroom_id": 17 }, { "course_id": 50, "day_index": 4, "term_index": 2, "classroom_id": 2 }, { "course_id": 51, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 68, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 71, "day_index": 1, "term_index": 5, "classroom_id": 19 }, { "course_id": 78, "day_index": 4, "term_index": 5, "classroom_id": 17 }, { "course_id": 85, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 87, "day_index": 3, "term_index": 5, "classroom_id": 11 }, { "course_id": 101, "day_index": 4, "term_index": 3, "classroom_id": 9 }, { "course_id": 102, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 104, "day_index": 2, "term_index": 2, "classroom_id": 11 }, { "course_id": 105, "day_index": 1, "term_index": 5, "classroom_id": 16 }, { "course_id": 112, "day_index": 1, "term_index": 6, "classroom_id": 19 }, { "course_id": 119, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 121, "day_index": 2, "term_index": 3, "classroom_id": 9 }, { "course_id": 122, "day_index": 4, "term_index": 6, "classroom_id": 16 }, { "course_id": 129, "day_index": 4, "term_index": 3, "classroom_id": 17 }, { "course_id": 135, "day_index": 5, "term_index": 3, "classroom_id": 8 }, { "course_id": 136, "day_index": 2, "term_index": 1, "classroom_id": 1 }, { "course_id": 144, "day_index": 2, "term_index": 6, "classroom_id": 19 }, { "course_id": 149, "day_index": 4, "term_index": 1, "classroom_id": 19 }, { "course_id": 162, "day_index": 3, "term_index": 2, "classroom_id": 19 }, { "course_id": 167, "day_index": 5, "term_index": 1, "classroom_id": 17 }, { "course_id": 180, "day_index": 3, "term_index": 1, "classroom_id": 16 }, { "course_id": 185, "day_index": 5, "term_index": 6, "classroom_id": 19 }, { "course_id": 224, "day_index": 2, "term_index": 5, "classroom_id": 1 }, { "course_id": 225, "day_index": 5, "term_index": 6, "classroom_id": 2 }, { "course_id": 237, "day_index": 2, "term_index": 2, "classroom_id": 3 }, { "course_id": 238, "day_index": 2, "term_index": 3, "classroom_id": 3 }, { "course_id": 254, "day_index": 5, "term_index": 3, "classroom_id": 13 }, { "course_id": 255, "day_index": 5, "term_index": 5, "classroom_id": 19 }, { "course_id": 274, "day_index": 6, "term_index": 3, "classroom_id": 9 }, { "course_id": 275, "day_index": 4, "term_index": 1, "classroom_id": 3 }, { "course_id": 293, "day_index": 4, "term_index": 1, "classroom_id": 3 }, { "course_id": 294, "day_index": 6, "term_index": 2, "classroom_id": 9 }, { "course_id": 302, "day_index": 5, "term_index": 1, "classroom_id": 12 }, { "course_id": 302, "day_index": 5, "term_index": 5, "classroom_id": 10 }, { "course_id": 303, "day_index": 5, "term_index": 2, "classroom_id": 16 }, { "course_id": 303, "day_index": 5, "term_index": 3, "classroom_id": 16 }, { "course_id": 320, "day_index": 5, "term_index": 5, "classroom_id": 17 }, { "course_id": 322, "day_index": 4, "term_index": 2, "classroom_id": 25 }, { "course_id": 322, "day_index": 4, "term_index": 3, "classroom_id": 25 }], "class_rooms": [{ "id": 1, "name": "Amphi 5", "extid": "", "capacity": 1000, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 2, "name": "Grande Salle 11", "extid": "", "capacity": 120, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 3, "name": "Grande Salle 12", "extid": "", "capacity": 120, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 8, "name": "Salle 36", "extid": "", "capacity": 40, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 9, "name": "Salle 39", "extid": "", "capacity": 80, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 10, "name": "Salle 40", "extid": "", "capacity": 40, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 11, "name": "Salle 42", "extid": "", "capacity": 40, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 12, "name": "Salle 44", "extid": "", "capacity": 40, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 13, "name": "Salle 45", "extid": "", "capacity": 40, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 16, "name": "Salle TP 2", "extid": "", "capacity": 35, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 17, "name": "Salle TP 3", "extid": "", "capacity": 35, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 19, "name": "Salle TP 7", "extid": "", "capacity": 35, "spec_slots": { "type": "unallowed", "spec_slots": [{ "day_index": 1, "term_index": 4 }, { "day_index": 2, "term_index": 4 }, { "day_index": 3, "term_index": 4 }, { "day_index": 4, "term_index": 4 }, { "day_index": 5, "term_index": 4 }, { "day_index": 6, "term_index": 4 }] } }, { "id": 25, "name": "SalleTP 7 Assistant", "extid": "", "capacity": 35, "spec_slots": { "type": "allowed", "spec_slots": [{ "day_index": 4, "term_index": 2 }, { "day_index": 5, "term_index": 2 }, { "day_index": 4, "term_index": 3 }] } }], "courses": [{ "id": 17, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [34, 68, 51, 85, 102, 119, 136], "related_group": 1 }, { "id": 20, "name": "Alg2", "short_name": "Algo2-G2", "course_type": "TP", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 33, "extid": "11", "to_hold_together_with": [], "related_group": 2 }, { "id": 34, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [17, 68, 51, 85, 102, 119, 136], "related_group": 2 }, { "id": 44, "name": "Outils de programmation pour les Maths", "short_name": "OPM-G3", "course_type": "TP", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 25, "extid": "", "to_hold_together_with": [], "related_group": 3 }, { "id": 50, "name": "Structure machine", "short_name": "STRM-G3", "course_type": "TD", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 25, "group_name": "", "teacher_id": 53, "extid": "", "to_hold_together_with": [], "related_group": 3 }, { "id": 51, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [17, 34, 68, 85, 102, 119, 136], "related_group": 3 }, { "id": 68, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [17, 34, 51, 85, 102, 119, 136], "related_group": 4 }, { "id": 71, "name": "Alg2", "short_name": "Algo2-G5", "course_type": "TP", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 33, "extid": "11", "to_hold_together_with": [], "related_group": 5 }, { "id": 78, "name": "Outils de programmation pour les Maths", "short_name": "OPM-G5", "course_type": "TP", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 25, "extid": "", "to_hold_together_with": [], "related_group": 5 }, { "id": 85, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [17, 34, 68, 51, 102, 119, 136], "related_group": 5 }, { "id": 87, "name": "Alg2", "short_name": "Algo2-G6", "course_type": "TD", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [], "related_group": 6 }, { "id": 101, "name": "Structure machine", "short_name": "STRM-G6", "course_type": "TD", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 25, "group_name": "", "teacher_id": 53, "extid": "", "to_hold_together_with": [], "related_group": 6 }, { "id": 102, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [17, 34, 68, 51, 85, 119, 136], "related_group": 6 }, { "id": 104, "name": "Alg2", "short_name": "Algo2-G7", "course_type": "TD", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [], "related_group": 7 }, { "id": 105, "name": "Alg2", "short_name": "Algo2-G7", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 25, "extid": "11", "to_hold_together_with": [], "related_group": 7 }, { "id": 112, "name": "Outils de programmation pour les Maths", "short_name": "OPM-G7", "course_type": "TP", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 25, "extid": "", "to_hold_together_with": [], "related_group": 7 }, { "id": 119, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [17, 34, 68, 51, 85, 102, 136], "related_group": 7 }, { "id": 121, "name": "Alg2", "short_name": "Algo2-G8", "course_type": "TD", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [], "related_group": 8 }, { "id": 122, "name": "Alg2", "short_name": "Algo2-G8", "course_type": "TP", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 25, "extid": "11", "to_hold_together_with": [], "related_group": 8 }, { "id": 129, "name": "Outils de programmation pour les Maths", "short_name": "OPM-G8", "course_type": "TP", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 25, "extid": "", "to_hold_together_with": [], "related_group": 8 }, { "id": 135, "name": "Structure machine", "short_name": "STRM-G8", "course_type": "TD", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 25, "group_name": "", "teacher_id": 53, "extid": "", "to_hold_together_with": [], "related_group": 8 }, { "id": 136, "name": "TIC", "short_name": "TIC", "course_type": "Cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [17, 34, 68, 51, 85, 102, 119], "related_group": 8 }, { "id": 144, "name": "Developpement des appliaction web", "short_name": "WEB2Info 2I1", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [], "related_group": 9 }, { "id": 149, "name": "Réseaux et communication", "short_name": "RES2Info 2I1", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 53, "extid": "", "to_hold_together_with": [], "related_group": 9 }, { "id": 162, "name": "Developpement des appliaction web", "short_name": "WEB2Info 2I3", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [], "related_group": 10 }, { "id": 167, "name": "Réseaux et communication", "short_name": "RES2Info 2I3", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 53, "extid": "", "to_hold_together_with": [], "related_group": 10 }, { "id": 180, "name": "Developpement des appliaction web", "short_name": "WEB2Info 2I2", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 22, "extid": "", "to_hold_together_with": [], "related_group": 11 }, { "id": 185, "name": "Réseaux et communication", "short_name": "RES2Info 2I2", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 53, "extid": "", "to_hold_together_with": [], "related_group": 11 }, { "id": 224, "name": "Sécurité des SI", "short_name": "SECSI3Info 3ISIL", "course_type": "cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 23, "extid": "", "to_hold_together_with": [], "related_group": 14 }, { "id": 225, "name": "Sécurité des SI", "short_name": "SECSI3Info 3ISIL", "course_type": "td", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 23, "extid": "", "to_hold_together_with": [], "related_group": 14 }, { "id": 237, "name": "Sécurité informatique", "short_name": "SEC3Info 3SI", "course_type": "cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 23, "extid": "", "to_hold_together_with": [], "related_group": 15 }, { "id": 238, "name": "Sécurité informatique", "short_name": "SEC3Info 3SI", "course_type": "td", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 23, "extid": "", "to_hold_together_with": [], "related_group": 15 }, { "id": 254, "name": "La programmation pour le bigdata", "short_name": "BigdataM1 MGSI", "course_type": "cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 23, "extid": "", "to_hold_together_with": [], "related_group": 17 }, { "id": 255, "name": "La programmation pour le bigdata", "short_name": "BigdataM1 MGSI", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 23, "extid": "", "to_hold_together_with": [], "related_group": 17 }, { "id": 274, "name": "Management stratégique des enreprises", "short_name": "mangstraM1 MISIL", "course_type": "td", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 57, "extid": "", "to_hold_together_with": [], "related_group": 18 }, { "id": 275, "name": "Management stratégique des entreprises", "short_name": "mangstraM1 MISIL", "course_type": "cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 57, "extid": "", "to_hold_together_with": [293], "related_group": 18 }, { "id": 293, "name": "Management stratégique des enreprises", "short_name": "mangstraM1 MISIL", "course_type": "cours", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 57, "extid": "", "to_hold_together_with": [275], "related_group": 19 }, { "id": 294, "name": "Management stratégique des enreprises", "short_name": "mangstraM1 MISIL", "course_type": "td", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 57, "extid": "", "to_hold_together_with": [], "related_group": 19 }, { "id": 302, "name": "Validation formelle des systèmes informatiques", "short_name": "VForm", "course_type": "cours", "num_of_lessons_per_week": 2, "num_of_enrolled_students": 30, "group_name": "", "teacher_id": 43, "extid": "", "to_hold_together_with": [], "related_group": 20 }, { "id": 303, "name": "Validation formelle des systèmes informatiques", "short_name": "VForm", "course_type": "TP", "num_of_lessons_per_week": 2, "num_of_enrolled_students": 30, "group_name": "", "teacher_id": 43, "extid": "", "to_hold_together_with": [], "related_group": 20 }, { "id": 320, "name": "Test et qualité de logiciel", "short_name": "TQL3Info 3ISIL", "course_type": "tp", "num_of_lessons_per_week": 1, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 53, "extid": "", "to_hold_together_with": [], "related_group": 22 }, { "id": 322, "name": "Technologie des middle ware", "short_name": "MIDDLEWAREM1 MGSI", "course_type": "TP", "num_of_lessons_per_week": 2, "num_of_enrolled_students": 35, "group_name": "", "teacher_id": 43, "extid": "", "to_hold_together_with": [], "related_group": 23 }], "days": [{ "id": 1 }, { "id": 2 }, { "id": 3 }, { "id": 4 }, { "id": 5 }, { "id": 6 }], "terms": [{ "index": 1, "term": "08:00-09:30" }, { "index": 2, "term": "09:30-11:00" }, { "index": 3, "term": "11:00-12:30" }, { "index": 4, "term": "12:30-13:00" }, { "index": 5, "term": "13:00-14:30" }, { "index": 6, "term": "14:30-16:00" }] }


// START POINT
$(document).ready(function () {
    build_course_table();
});





function build_course_table() {
    // console.log(teacher_data.courses.length);

    let table = $('#schedule');
    let schedule_year = $("#schedule-year")
    let schedule_group = $("#schedule-title")

    schedule_year.append(`Not yet`);
    schedule_group.append(`Available teachers`);

    row_length = techers_av.terms.length + 1;
    column_length = techers_av.days.length + 1;

    for (var row = 0; row < row_length; row++) {
        column_raw = ""
        for (var column = 0; column < column_length; column++) {
            if (row == 0 && column == 0) {
                column_raw += getEmptyHeader()
            } else if (row == 0) {
                column_raw += getCellDay(techers_av.days[column - 1]);
            } else if (column == 0) {
                column_raw += getTerm(techers_av.terms[row - 1]);
            } else {
                column_raw += get_lesson_cell(column, row);
            }
        }
        row_raw = getRow(column_raw, row);
        table.append(row_raw);
    }
}




function get_lesson_cell(day_index, term_index) {
    var data = ""

    teacher_data = []
    courses_id = []

    var count = 0;
    var count_a = 0;

    techers_av.lessons.forEach(element => {
        if (element.day_index == day_index && element.term_index == term_index) {
            // console.log(day_index, term_index);
            count++
            groups = []
            course = get_realted_item_by_id(techers_av.courses, element.course_id);
            if (!courses_id.includes(course.id)) {
                courses_id = courses_id.concat(course.to_hold_together_with)
                courses_id.push(course.id)
                count_a++


                courses_id.forEach(id => {
                    course_item = get_realted_item_by_id(techers_av.courses, id)
                    // console.log(course_item);
                    group_item = get_realted_item_by_id(techers_av.groups, course_item.related_group);
                    groups.push(group_item)

                })



                teacher = get_realted_item_by_id(techers_av.teachers, course.teacher_id);
                class_room = get_realted_item_by_id(techers_av.class_rooms, element.classroom_id);

                teacher_data.push({
                    "teacher": teacher,
                    "course": course_item,
                    "class_room": class_room,
                    "groups": groups
                })

            }
        }
    });

    inner_data = `<div >`;


    teacher_data.forEach(element => {

        // inner_data = `<div class='course-item-data ${course.course_type.toLocaleLowerCase()}'>`;


        // console.log(element.groups);
        inner_data += `<div class=' course-item-data  ${element.course.course_type.toLocaleLowerCase()}'>`;
        inner_data += `<a class="teacher-data" href='#'>`;
        inner_data += `${element.teacher.name} ${element.teacher.last_name}<br>` ;
            // inner_data += `<a  href="#" style="font-size:0.75rem;">${element.course.short_name}</a><br>`
            inner_data += `<a  href="#" style="font-size:0.75rem;">${element.course.course_type.toLocaleUpperCase()}</a><br>`
            // inner_data += `<a  href="#" style="font-size:0.75rem;">${element.groups[0].name}</a>`

        inner_data += `</a>`;
    inner_data += `</div>`;


}
    );

inner_data += `</div>`;
data = `<td> ${inner_data} </td>`;

if (data)
    return data;

return "<td></td>"
}
