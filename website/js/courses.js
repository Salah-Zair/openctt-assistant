// var data =
//     {"course":{"id":9,"name":"Initiation à l'Algorithmique","short_name":"Algo-G1","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[],"related_group":1},"related_courses":[{"id":8,"name":"Initiation à l'Algorithmique","short_name":"Algo.","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":200,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[106,22,36,50,64,78,92],"related_group":1},{"id":9,"name":"Initiation à l'Algorithmique","short_name":"Algo-G1","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[],"related_group":1},{"id":10,"name":"Initiation à l'Algorithmique","short_name":"Algo-G1","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":63,"extid":"11","to_hold_together_with":[],"related_group":1},{"id":22,"name":"Initiation à l'Algorithmique","short_name":"Algo.","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[106,8,36,50,64,78,92],"related_group":2},{"id":23,"name":"Initiation à l'Algorithmique","short_name":"Algo-G2","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":50,"extid":"","to_hold_together_with":[],"related_group":2},{"id":24,"name":"Initiation à l'Algorithmique","short_name":"Algo-G2","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":63,"extid":"","to_hold_together_with":[],"related_group":2},{"id":36,"name":"Initiation à l'Algorithmique","short_name":"Algo-S1","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[106,8,22,50,64,78,92],"related_group":3},{"id":37,"name":"Initiation à l'Algorithmique","short_name":"Algo-G3","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":15,"extid":"","to_hold_together_with":[],"related_group":3},{"id":38,"name":"Initiation à l'Algorithmique","short_name":"Algo-G3","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":66,"extid":"","to_hold_together_with":[],"related_group":3},{"id":50,"name":"Initiation à l'Algorithmique","short_name":"Algo-S1","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[106,8,22,36,64,78,92],"related_group":4},{"id":51,"name":"Initiation à l'Algorithmique","short_name":"Algo-G4","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":78,"extid":"","to_hold_together_with":[],"related_group":4},{"id":52,"name":"Initiation à l'Algorithmique","short_name":"Algo-G4","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":63,"extid":"","to_hold_together_with":[],"related_group":4},{"id":64,"name":"Initiation à l'Algorithmique","short_name":"Algo.-S1","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[106,8,22,36,50,78,92],"related_group":5},{"id":65,"name":"Initiation à l'Algorithmique","short_name":"Algo-G5","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":78,"extid":"","to_hold_together_with":[],"related_group":5},{"id":66,"name":"Initiation à l'Algorithmique","short_name":"Algo-G5","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":64,"extid":"","to_hold_together_with":[],"related_group":5},{"id":78,"name":"Initiation à l'Algorithmique","short_name":"Algo-S1","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[106,8,22,36,50,64,92],"related_group":6},{"id":79,"name":"Initiation à l'Algorithmique","short_name":"Algo-G6","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":50,"extid":"","to_hold_together_with":[],"related_group":6},{"id":80,"name":"Initiation à l'Algorithmique","short_name":"Algo-G6","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":64,"extid":"","to_hold_together_with":[],"related_group":6},{"id":92,"name":"Initiation à l'Algorithmique","short_name":"Algo.-S2","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[106,8,22,36,50,64,78],"related_group":7},{"id":93,"name":"Initiation à l'Algorithmique","short_name":"Algo-G7","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":1,"extid":"","to_hold_together_with":[],"related_group":7},{"id":94,"name":"Initiation à l'Algorithmique","short_name":"Algo-G7","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":1,"extid":"","to_hold_together_with":[],"related_group":7},{"id":106,"name":"Initiation à l'Algorithmique","short_name":"Algo.-S2","course_type":"Cours","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":14,"extid":"","to_hold_together_with":[8,22,36,50,64,78,92],"related_group":8},{"id":107,"name":"Initiation à l'Algorithmique","short_name":"Algo-G8","course_type":"TD","num_of_lessons_per_week":2,"num_of_enrolled_students":35,"group_name":"","teacher_id":1,"extid":"","to_hold_together_with":[],"related_group":8},{"id":108,"name":"Initiation à l'Algorithmique","short_name":"Algo-G8","course_type":"TP","num_of_lessons_per_week":1,"num_of_enrolled_students":35,"group_name":"","teacher_id":56,"extid":"","to_hold_together_with":[],"related_group":8}],"teachers":[{"id":1,"name":"N/A","last_name":"AAEnseignant A","title":"M.","edu_rank":"Vac","extid":""},{"id":14,"name":"Mourad","last_name":"Amad","title":"Mr","edu_rank":"MCA","extid":"info"},{"id":15,"name":"Lyes","last_name":"Badis","title":"Mr","edu_rank":"MAA","extid":"info"},{"id":50,"name":"Layazid","last_name":"Hammimed","title":"M.","edu_rank":"MAA","extid":"info","spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":56,"name":"Messaouda","last_name":"Madani","title":"Mme","edu_rank":"Vacataire","extid":"info"},{"id":63,"name":"Kamel","last_name":"Mili","title":"Mr","edu_rank":"Vac","extid":"info"},{"id":64,"name":"Mohamed","last_name":"Mohamadi","title":"M.","edu_rank":"Vac","extid":"info"},{"id":66,"name":"Rokia","last_name":"OuedMerabet","title":"Melle","edu_rank":"Vac","extid":"info"},{"id":78,"name":"Taha","last_name":"Zerrouki","title":"Mr","edu_rank":"MAA","extid":"info"}],"groups":[{"id":1,"name":"1MI 01","code":"G01","semester":"S1"},{"id":2,"name":"1MI 02","code":"G02","semester":"S1"},{"id":3,"name":"1MI 03","code":"G03","semester":"S1"},{"id":4,"name":"1MI 04","code":"G04","semester":"S1"},{"id":5,"name":"1MI 05","code":"G05","semester":"S1"},{"id":6,"name":"1MI 06","code":"G06","semester":"S1"},{"id":7,"name":"1MI 07","code":"G07","semester":"S1"},{"id":8,"name":"1MI 08","code":"G08","semester":"S1"}],"lessons":[{"course_id":8,"day_index":3,"term_index":1,"classroom_id":1},{"course_id":9,"day_index":4,"term_index":2,"classroom_id":5},{"course_id":9,"day_index":3,"term_index":5,"classroom_id":8},{"course_id":10,"day_index":5,"term_index":2,"classroom_id":15},{"course_id":22,"day_index":3,"term_index":1,"classroom_id":1},{"course_id":23,"day_index":3,"term_index":3,"classroom_id":4},{"course_id":23,"day_index":4,"term_index":3,"classroom_id":18},{"course_id":24,"day_index":5,"term_index":3,"classroom_id":15},{"course_id":36,"day_index":3,"term_index":1,"classroom_id":1},{"course_id":37,"day_index":2,"term_index":2,"classroom_id":10},{"course_id":37,"day_index":3,"term_index":5,"classroom_id":5},{"course_id":38,"day_index":1,"term_index":5,"classroom_id":15},{"course_id":50,"day_index":3,"term_index":1,"classroom_id":1},{"course_id":51,"day_index":4,"term_index":2,"classroom_id":8},{"course_id":51,"day_index":5,"term_index":3,"classroom_id":10},{"course_id":52,"day_index":5,"term_index":5,"classroom_id":16},{"course_id":64,"day_index":3,"term_index":1,"classroom_id":1},{"course_id":65,"day_index":5,"term_index":2,"classroom_id":18},{"course_id":65,"day_index":4,"term_index":3,"classroom_id":19},{"course_id":66,"day_index":1,"term_index":3,"classroom_id":14},{"course_id":78,"day_index":3,"term_index":1,"classroom_id":1},{"course_id":79,"day_index":3,"term_index":5,"classroom_id":9},{"course_id":79,"day_index":4,"term_index":5,"classroom_id":8},{"course_id":80,"day_index":1,"term_index":5,"classroom_id":14},{"course_id":92,"day_index":3,"term_index":1,"classroom_id":1},{"course_id":106,"day_index":3,"term_index":1,"classroom_id":1}],"class_rooms":[{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":5,"name":"Salle 36","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":8,"name":"Salle 42","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":15,"name":"Salle TP 3","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":4,"name":"Grande Salle 12","extid":"","capacity":120,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":18,"name":"Salle-p 41","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":15,"name":"Salle TP 3","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":10,"name":"Salle 45","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":5,"name":"Salle 36","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":15,"name":"Salle TP 3","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":8,"name":"Salle 42","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":10,"name":"Salle 45","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":16,"name":"Salle TP 7","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":18,"name":"Salle-p 41","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":19,"name":"Salle-p 43","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":14,"name":"Salle TP 2","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":9,"name":"Salle 44","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":8,"name":"Salle 42","extid":"","capacity":40,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":14,"name":"Salle TP 2","extid":"","capacity":35,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}},{"id":1,"name":"Amphi 5","extid":"","capacity":1000,"spec_slots":{"type":"unallowed","spec_slots":[{"day_index":1,"term_index":4},{"day_index":2,"term_index":4},{"day_index":3,"term_index":4},{"day_index":4,"term_index":4},{"day_index":5,"term_index":4},{"day_index":6,"term_index":4}]}}],"days":[{"id":1},{"id":2},{"id":3},{"id":4},{"id":5},{"id":6}],"terms":[{"index":1,"term":"08:00-09:30"},{"index":2,"term":"09:30-11:00"},{"index":3,"term":"11:00-12:30"},{"index":4,"term":"12:30-13:00"},{"index":5,"term":"13:00-14:30"},{"index":6,"term":"14:30-16:00"}]}


// START POINT
// $(document).ready(function () {
//     build_course_table();
// });




function build_courses_table(data) {
    url_components = get_url_with();

    result_view = `<h3 class="mt-2">
            <center>Courses</center>
            </h3>
<table class="table mt-5">
    <thead class="table-dark table-borderless">
        <tr>
            <th scope="col" style="width: 10%;">ID</th>
            <th scope="col">name</th>
            <th scope="col">course type</th>
            <th scope="col">group</th>
            <th scope="col">teacher</th>
        </tr>
    </thead>
    <tbody>`;


    data.courses.forEach(course => {
        var group = get_realted_item_by_id(data.groups, course.related_group)
        var teacher = get_realted_item_by_id(data.teachers, course.teacher_id)

        
        var document_id = url_components.document
        var course_paramters = [`document=${document_id}`,`id=${course.id}`].join("&");
        var course_url = [url_components['url'],course_paramters].join("?")

        // console.log(course_paramters);
        result_view += ` <tr>
            <td><a href=${course_url}>${course.id}</a></td>
            <td>${course.name}</td>
            <td>${course.course_type.toUpperCase()}</td>
            <td>${group.name}</td>
            <td>${teacher.title}.${teacher.last_name} </td>
        </tr>`;
    });

    result_view += `</tbody></table>`;
    return result_view;
}

function build_course_schedule(data) {
    let content_area = $("#content-area")

    content_area.html(`   <div class="container d-flex flex-column justify-content-center align-items-center test" >
    <div id="schedule-year" class="mb-3"></div>

    <div id="schedule-title"></div>
    <table border="1" id="schedule">
    </table>
    <div class="d-flex justify-content-end meta-data-table" style="width: 70%;">
        <div class="course-type-color-data">
            <div class="box-color ">
                <span class="box cours"></span> Course
            </div>
            <div class="box-color ">
                <span class="box td"></span> TD

            </div>
            <div class="box-color ">
                <span class="box tp"></span> TP
            </div>
        </div>
    </div>`)

    let table = $('#schedule');
    let schedule_year = $("#schedule-year")
    let schedule_group = $("#schedule-title")

    schedule_year.append(`Not yet`);
    schedule_group.append(`Course ${data.course.name}`);

    row_length = data.terms.length + 1;
    column_length = data.days.length + 1;

    for (var row = 0; row < row_length; row++) {
        column_raw = ""
        for (var column = 0; column < column_length; column++) {
            if (row == 0 && column == 0) {
                column_raw += getEmptyHeader()
            } else if (row == 0) {
                column_raw += getCellDay(data.days[column - 1]);
            } else if (column == 0) {
                column_raw += getTerm(data.terms[row - 1]);
            } else {
                column_raw += get_lesson_cell(data,column, row);
            }
        }
        row_raw = getRow(column_raw, row);
        table.append(row_raw);
    }
}




function get_lesson_cell(course_data,day_index, term_index) {
    var data = ""


    course_data.lessons.forEach(element => {
        if (element.day_index == day_index && element.term_index == term_index) {
            course = get_realted_item_by_id(course_data.related_courses, element.course_id);

            // group = get_realted_item_by_id(data.groups,course.related_group);
            teacher = get_realted_item_by_id(course_data.teachers, course.teacher_id);
            class_room = get_realted_item_by_id(course_data.class_rooms, element.classroom_id);


            inner_data = `<div class='course-item-data ${course.course_type.toLocaleLowerCase()}'>`;


            inner_data += `<div class='course-data'>`;
            inner_data += `<a href='#'>`;
            inner_data += `${course.short_name}`;
            inner_data += `</a>`;
            inner_data += `</div>`;

            inner_data += `<div class='class-room-data'>`;
            inner_data += `<a href='#'>`;
            inner_data += `${class_room.name}`;
            inner_data += `</a>`;
            inner_data += `</div>`;

            // inner_data += `<div class='class-room-data'>`;
            // inner_data += `<a href='#'>`;
            // inner_data += `${group.name}`;
            // inner_data += `</a>`;
            // inner_data += `</div>`;

            inner_data += `<div class='teacher-data'>`;
            inner_data += `<a href='#'>`;
            inner_data += `${teacher.name} ${teacher.last_name}`;
            inner_data += `</a>`;
            inner_data += `</div>`;

            inner_data += `</div>`;

            data = `<td> ${inner_data} </td>`;
        }
    });

    if (data)
        return data;

    return "<td></td>"
}
